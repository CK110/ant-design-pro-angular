@import '~ng-zorro-antd/style/themes/index.less';
@import '~ng-zorro-antd/style/mixins/index';

@import 'size';
@import 'position';
@import 'dropdown';
@import 'card';

@pro-tab-prefix-cls: ~'@{ant-prefix}-pro-tabs';

@pro-margin-lg: 24px; // containers
@pro-margin-md: 16px; // small containers and buttons
@pro-margin-sm: 12px; // Form controls and items
@pro-margin-xs: 8px; // small items
@pro-margin-xss: 4px; // more small


@pro-tabs-card-head-background: @background-color-light;
@pro-tabs-card-height: 40px;
@pro-tabs-card-active-color: @primary-color;
@pro-tabs-card-horizontal-padding: (@pro-tabs-card-height - floor(@font-size-base * @line-height-base)) / 2 -
  @border-width-base @padding-md;
@pro-tabs-card-horizontal-padding-sm: 6px @padding-md;
@pro-tabs-card-horizontal-padding-lg: 7px @padding-md 6px;
@pro-tabs-title-font-size: @font-size-base;
@pro-tabs-title-font-size-lg: @font-size-lg;
@pro-tabs-title-font-size-sm: @font-size-base;
@pro-tabs-ink-bar-color: @primary-color;
@pro-tabs-bar-margin: 0 0 @pro-margin-md 0;
@pro-tabs-horizontal-margin: 0 32px 0 0;
@pro-tabs-horizontal-margin-rtl: 0 0 0 32px;
@pro-tabs-horizontal-padding: @padding-sm 0;
@pro-tabs-horizontal-padding-lg: @padding-md 0;
@pro-tabs-horizontal-padding-sm: @padding-xs 0;
@pro-tabs-vertical-padding: @padding-xs @padding-lg;
@pro-tabs-vertical-margin: 0 0 @pro-margin-md 0;
@pro-tabs-scrolling-size: 32px;
@pro-tabs-highlight-color: @primary-color;
@pro-tabs-hover-color: @primary-5;
@pro-tabs-active-color: @primary-7;
@pro-tabs-card-gutter: 2px;
@pro-tabs-card-tab-active-border-top: 2px solid transparent;

//Dropdown
@pro-dropdown-menu-bg: @component-background;
@pro-dropdown-vertical-padding: 5px;
@pro-dropdown-edge-child-vertical-padding: 4px;
@pro-dropdown-font-size: @font-size-base;
@pro-dropdown-line-height: 22px;

.@{pro-tab-prefix-cls} {

  box-sizing: border-box;
  margin: 0;
  padding: 0;
  color: @text-color;
  font-size: @font-size-base;
  font-variant: @font-variant-base;
  line-height: @line-height-base;
  list-style: none;
  font-feature-settings: @font-feature-settings-base;

  display: flex;
  overflow: hidden;

  // ========================== Navigation ==========================
  > .@{pro-tab-prefix-cls}-nav,
  > div > .@{pro-tab-prefix-cls}-nav {
    position: relative;
    display: flex;
    flex: none;
    align-items: center;

    .@{pro-tab-prefix-cls}-nav-wrap {
      position: relative;
      display: inline-block;
      display: flex;
      flex: auto;
      align-self: stretch;
      overflow: hidden;
      white-space: nowrap;
      transform: translate(0); // Fix chrome render bug

      // >>>>> Ping shadow
      &::before,
      &::after {
        position: absolute;
        z-index: 1;
        opacity: 0;
        transition: opacity @animation-duration-slow;
        content: '';
        pointer-events: none;
      }
    }

    .@{pro-tab-prefix-cls}-nav-list {
      position: relative;
      display: flex;
      transition: transform @animation-duration-slow;
    }

    // >>>>>>>> Operations
    .@{pro-tab-prefix-cls}-nav-operations {
      display: flex;
      align-self: stretch;

      &-hidden {
        position: absolute;
        visibility: hidden;
        pointer-events: none;
      }
    }

    .@{pro-tab-prefix-cls}-nav-more {
      position: relative;
      padding: @pro-tabs-card-horizontal-padding;
      background: transparent;
      border: 0;

      &::after {
        position: absolute;
        right: 0;
        bottom: 0;
        left: 0;
        height: 5px;
        transform: translateY(100%);
        content: '';
      }
    }

    .@{pro-tab-prefix-cls}-nav-add {
      min-width: @pro-tabs-card-height;
      padding: 0 @padding-xs;
      background: @pro-tabs-card-head-background;
      border: @border-width-base @border-style-base @border-color-split;
      border-radius: @border-radius-base @border-radius-base 0 0;
      outline: none;
      cursor: pointer;
      transition: all @animation-duration-slow @ease-in-out;

      &:hover {
        color: @pro-tabs-hover-color;
      }

      &:active,
      &:focus {
        color: @pro-tabs-active-color;
      }
    }
  }

  &-extra-content {
    flex: none;
  }

  &-centered {
    > .@{pro-tab-prefix-cls}-nav,
    > div > .@{pro-tab-prefix-cls}-nav {
      .@{pro-tab-prefix-cls}-nav-wrap {
        &:not([class*='@{pro-tab-prefix-cls}-nav-wrap-ping']) {
          justify-content: center;
        }
      }
    }
  }

  // ============================ InkBar ============================
  &-ink-bar {
    position: absolute;
    background: @pro-tabs-ink-bar-color;
    pointer-events: none;
  }

  // ============================= Tabs =============================
  &-tab {
    position: relative;
    display: inline-flex;
    align-items: center;
    margin: @pro-tabs-horizontal-margin;
    padding: @pro-tabs-horizontal-padding;
    font-size: @pro-tabs-title-font-size;
    background: transparent;
    border: 0;
    outline: none;
    cursor: pointer;

    &:last-of-type {
      margin-right: 0;
      margin-left: 0;
    }

    &-btn,
    &-remove {
      &:focus,
      &:active {
        color: @pro-tabs-active-color;
      }
    }

    &-btn {
      outline: none;
    }

    &-remove {
      flex: none;
      margin-right: -@pro-margin-xss;
      margin-left: @pro-margin-xs;
      color: @text-color-secondary;
      font-size: @font-size-sm;
      background: transparent;
      border: none;
      outline: none;
      cursor: pointer;
      transition: all @animation-duration-slow;

      &:hover {
        color: @heading-color;
      }
    }

    &:hover {
      color: @pro-tabs-hover-color;
    }

    &&-active &-btn {
      color: @pro-tabs-highlight-color;
      font-weight: 500;
    }

    &&-disabled {
      color: @disabled-color;
      cursor: not-allowed;
    }

    &&-disabled &-btn,
    &&-disabled &-remove {
      &:focus,
      &:active {
        color: @disabled-color;
      }
    }

    & &-remove .@{iconfont-css-prefix} {
      margin: 0;
    }

    .@{iconfont-css-prefix} {
      margin-right: @pro-margin-sm;
    }
  }

  // =========================== TabPanes ===========================
  &-content {
    &-holder {
      flex: auto;
      min-width: 0;
      min-height: 0;
    }

    display: flex;
    width: 100%;

    &-animated {
      transition: margin @animation-duration-slow;
    }
  }

  &-tabpane {
    flex: none;
    width: 100%;
    outline: none;
  }
}
